{"ast":null,"code":"var _jsxFileName = \"/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      playersList: [],\n      showPlayerStats: false\n    };\n\n    this.onSearch = event => {\n      event.preventDefault();\n      const query = this.state.query;\n      console.log(query);\n\n      if (query === '') {\n        return;\n      }\n\n      const cachedData = localStorage.getItem(query);\n\n      if (cachedData) {\n        this.setState({\n          playersList: JSON.parse(cachedData)\n        });\n        console.log(this.state.playersList);\n      } else {\n        let obj = {\n          \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n          \"name\": query\n        };\n        axios.post('/playerFinder/', obj).then(res => {\n          console.log(\"api call\");\n          console.log(res);\n          let data = res ? res.data ? res.data.data : [] : [];\n          console.log(data);\n          this.onSetResult(data, query);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.onSetResult = (data, key) => {\n      localStorage.setItem(key, JSON.stringify(data));\n      this.setState({\n        playersList: data\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.fetchPlayerStats = pid => {\n      console.log(pid);\n      this.setState({\n        showPlayerStats: true\n      });\n      this.props.history.push('/search/' + pid);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"coloumn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-xs-6 col-lg-6\",\n      style: {\n        paddingLeft: 70,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"div\", {\n      className: \"col-xs-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), this.state.showPlayerStats ? React.createElement(Route, {\n      path: \"/search/:pid\",\n      component: PlyerStats,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }) : null, this.state.playersList ? this.state.playersList.map((value, index) => {\n      return React.createElement(\"div\", {\n        key: value.pid,\n        className: \"row\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-xs-12 col-sm-6 col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"mainflip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"frontside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-body text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-fluid\",\n        alt: \"cardImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, value.fullName), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, value.name), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => this.fetchPlayerStats(value.pid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"View Profile\")))))));\n    }) : null));\n  }\n\n}\n\nexport default withErrorHandler(Search, axios);","map":{"version":3,"sources":["/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js"],"names":["React","Component","Route","axios","PlyerStats","withErrorHandler","Search","state","query","playersList","showPlayerStats","onSearch","event","preventDefault","console","log","cachedData","localStorage","getItem","setState","JSON","parse","obj","post","then","res","data","onSetResult","catch","err","key","setItem","stringify","onChange","target","value","fetchPlayerStats","pid","props","history","push","render","paddingLeft","marginBottom","map","index","marginTop","fullName","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\n\nclass Search extends Component {\n\n    state = {\n        query: '',\n        playersList: [],\n        showPlayerStats: false,\n    };\n\n    onSearch = event => {\n        event.preventDefault();\n\n        const { query } = this.state;\n        console.log(query);\n        if (query === '') {\n            return;\n        }\n\n        const cachedData = localStorage.getItem(query);\n\n        if (cachedData) {\n            this.setState({ playersList: JSON.parse(cachedData) });\n            console.log(this.state.playersList);\n        } else {\n            let obj = {\n                \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n                \"name\": query\n            }\n            axios.post('/playerFinder/', obj)\n                .then(res => {\n                    console.log(\"api call\");\n                    console.log(res);\n                    let data = res ? res.data ? res.data.data : [] : [];\n                    console.log(data);\n                    this.onSetResult(data, query)\n                })\n                .catch((err) => console.log(err));\n        }\n    };\n\n    onSetResult = (data, key) => {\n        localStorage.setItem(key, JSON.stringify(data));\n\n        this.setState({ playersList: data });\n    };\n\n    onChange = event => {\n        this.setState({ query: event.target.value });\n    };\n\n    fetchPlayerStats = (pid) => {\n        console.log(pid);\n        this.setState({ showPlayerStats: true })\n        this.props.history.push('/search/' + pid);\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"coloumn\">\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 col-lg-4\"></div>\n                        <div className=\"col-xs-6 col-lg-6\" style={{ paddingLeft: 70, marginBottom: 20 }}>\n                            <form onSubmit={this.onSearch}>\n                                <input type=\"text\" onChange={this.onChange} />\n                                <button type=\"btn btn-primary\">Search</button>\n                            </form>\n                        </div>\n                        <div className=\"col-xs-3 col-lg-3\"></div>\n                    </div>\n                    {this.state.showPlayerStats ?\n                        <Route\n                            path=\"/search/:pid\"\n                            component={PlyerStats} /> : null}\n                    {this.state.playersList ? this.state.playersList.map((value, index) => {\n                        return (\n                            <div key={value.pid} className=\"row\" style={{ marginTop: 20 }} >\n                                <div class=\"col-xs-12 col-sm-6 col-md-4\">\n                                    <div class=\"mainflip\">\n                                        <div class=\"frontside\">\n                                            <div class=\"card\">\n                                                <div class=\"card-body text-center\">\n                                                    <p><img className=\"img-fluid\"  alt=\"cardImage\" /></p>\n                                                        <h4 className=\"card-title\">{value.fullName}</h4>\n                                                        <p className=\"card-text\">{value.name}</p>\n                                                        <button className=\"btn btn-primary btn-sm\" onClick={() => this.fetchPlayerStats(value.pid)}>View Profile</button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                                        );\n                                    }) : null}\n                </div>\n\n                                </div>\n                                );\n                            }\n                        }\n                        \nexport default withErrorHandler(Search, axios);"]},"metadata":{},"sourceType":"module"}