{"ast":null,"code":"var _jsxFileName = \"/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      playersList: [],\n      showPlayerStats: false\n    };\n\n    this.onSearch = event => {\n      event.preventDefault();\n      const query = this.state.query;\n      console.log(query);\n\n      if (query === '') {\n        return;\n      }\n\n      const cachedData = localStorage.getItem(query);\n\n      if (cachedData) {\n        this.setState({\n          playersList: JSON.parse(cachedData)\n        });\n        console.log(this.state.playersList);\n      } else {\n        let obj = {\n          \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n          \"name\": query\n        };\n        axios.post('/playerFinder/', obj).then(res => {\n          console.log(\"api call\");\n          console.log(res);\n          let data = res ? res.data ? res.data.data : [] : [];\n          console.log(data);\n          this.onSetResult(data, query);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.onSetResult = (data, key) => {\n      localStorage.setItem(key, JSON.stringify(data));\n      this.setState({\n        playersList: data\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.fetchPlayerStats = pid => {\n      console.log(pid);\n      this.setState({\n        showPlayerStats: true\n      });\n      this.props.history.push('/search/' + pid);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"coloumn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-xs-6 col-lg-6\",\n      style: {\n        paddingLeft: 70,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"div\", {\n      className: \"col-xs-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), this.state.showPlayerStats ? React.createElement(Route, {\n      path: \"/search/:pid\",\n      component: PlyerStats,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }) : null, this.state.playersList ? this.state.playersList.map((value, index) => {\n      return React.createElement(\"div\", {\n        key: value.pid,\n        className: \"row\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-2 col-lg-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-xs-8 col-lg-8\",\n        style: {\n          background: 'grey'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          background: 'lightblue',\n          paddingTop: 10,\n          paddingLeft: 20,\n          border: 2,\n          marginTop: 10,\n          marginBottom: 10,\n          paddingBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \" Name : \", value.fullName), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"NickName : \", value.name, \" \"), React.createElement(\"button\", {\n        className: \"btn btn-info\",\n        onClick: () => this.fetchPlayerStats(value.pid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"View Stats\"))), React.createElement(\"div\", {\n        className: \"col-xs-2 col-lg-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    }) : null));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js"],"names":["React","Component","Route","axios","PlyerStats","Search","state","query","playersList","showPlayerStats","onSearch","event","preventDefault","console","log","cachedData","localStorage","getItem","setState","JSON","parse","obj","post","then","res","data","onSetResult","catch","err","key","setItem","stringify","onChange","target","value","fetchPlayerStats","pid","props","history","push","render","paddingLeft","marginBottom","map","index","marginTop","background","paddingTop","border","paddingBottom","fullName","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\n\nclass Search extends Component {\n\n    state = {\n        query: '',\n        playersList: [],\n        showPlayerStats : false,\n    };\n\n    onSearch = event => {\n        event.preventDefault();\n\n        const { query } = this.state;\n        console.log(query);\n        if (query === '') {\n            return;\n        }\n\n        const cachedData = localStorage.getItem(query);\n\n        if (cachedData) {\n            this.setState({ playersList: JSON.parse(cachedData) });\n            console.log(this.state.playersList);\n        } else {\n            let obj = {\n                \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n                \"name\": query\n            }\n            axios.post('/playerFinder/', obj)\n                .then(res => {\n                    console.log(\"api call\");\n                    console.log(res);\n                    let data = res ? res.data ? res.data.data : [] : [];\n                    console.log(data);\n                    this.onSetResult(data, query)\n                })\n                .catch((err) => console.log(err));\n        }\n    };\n\n    onSetResult = (data, key) => {\n        localStorage.setItem(key, JSON.stringify(data));\n\n        this.setState({ playersList: data });\n    };\n\n    onChange = event => {\n        this.setState({ query: event.target.value });\n    };\n\n    fetchPlayerStats =(pid) =>{\n        console.log(pid);\n        this.setState({showPlayerStats : true})\n        this.props.history.push('/search/' + pid);\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"coloumn\">\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 col-lg-4\"></div>\n                        <div className=\"col-xs-6 col-lg-6\" style={{ paddingLeft: 70 , marginBottom: 20}}>\n                            <form onSubmit={this.onSearch}>\n                                <input type=\"text\" onChange={this.onChange} />\n                                <button type=\"btn btn-primary\">Search</button>\n                            </form>\n                        </div>\n                        <div className=\"col-xs-3 col-lg-3\"></div>\n                    </div>\n                    { this.state.showPlayerStats ?\n                    <Route \n                        path=\"/search/:pid\" \n                    component={PlyerStats}/> : null}\n                    {this.state.playersList ? this.state.playersList.map((value,index) => {\n                        return (<div key={value.pid} className=\"row\" style={{ marginTop: 20 }} >\n                            <div className=\"col-xs-2 col-lg-2\"></div>\n                            <div className=\"col-xs-8 col-lg-8\" style={{ background: 'grey' }}>\n                                <div style={{ background: 'lightblue', paddingTop: 10, paddingLeft: 20, border: 2, marginTop: 10,marginBottom : 10, paddingBottom: 10 }}>\n                                    <h4> Name : {value.fullName}</h4>\n                                    <h5>NickName : {value.name} </h5>\n                                    <button\n                                        className=\"btn btn-info\"\n                                       onClick={()=>this.fetchPlayerStats(value.pid)} >View Stats</button>\n                                </div>\n                            </div>\n                            <div className=\"col-xs-2 col-lg-2\"></div>\n                        </div>\n                        );\n                    }) : null}\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}