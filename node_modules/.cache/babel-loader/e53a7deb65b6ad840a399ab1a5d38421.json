{"ast":null,"code":"var _jsxFileName = \"/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport './FindPlayer.css';\n\nconst playerImage = require('../../assets/images/profile.jpeg');\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      playersList: [],\n      showPlayerStats: false\n    };\n\n    this.onSearch = event => {\n      event.preventDefault();\n      const query = this.state.query;\n      console.log(query);\n\n      if (query === '') {\n        return;\n      }\n\n      const cachedData = localStorage.getItem(query);\n\n      if (cachedData) {\n        this.setState({\n          playersList: JSON.parse(cachedData)\n        });\n        console.log(this.state.playersList);\n      } else {\n        let obj = {\n          \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n          \"name\": query\n        };\n        axios.post('/playerFinder/', obj).then(res => {\n          console.log(\"api call\");\n          console.log(res);\n          let data = res ? res.data ? res.data.data : [] : [];\n          console.log(data);\n          this.onSetResult(data, query);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.onSetResult = (data, key) => {\n      localStorage.setItem(key, JSON.stringify(data));\n      this.setState({\n        playersList: data\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.fetchPlayerStats = pid => {\n      console.log(pid);\n      this.setState({\n        showPlayerStats: true\n      });\n      this.props.history.push('/search/' + pid);\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      id: \"team\",\n      className: \"pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"coloumn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-xs-6 col-lg-6\",\n      style: {\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-md\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"btn btn-primary\",\n      cclassName: \"form-control form-control-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Search\")))), React.createElement(\"div\", {\n      className: \"col-xs-3 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), this.state.showPlayerStats ? React.createElement(Route, {\n      path: \"/search/:pid\",\n      component: PlyerStats,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }) : null, this.state.playersList ? this.state.playersList.map((value, index) => {\n      return React.createElement(\"div\", {\n        key: value.pid,\n        className: \"row\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-xs-2 col-sm-2 col-md-3 col-lg-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"col-xs-8 col-sm-8 col-md-6 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"image-flip\",\n        ontouchstart: \"this.classList.toggle('hover');\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"mainflip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"frontside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-body text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: 120,\n          height: 120,\n          borderRadius: 60\n        },\n        src: playerImage,\n        alt: \"cardImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, value.fullName), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, value.name), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => this.fetchPlayerStats(value.pid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"View Profile\"))))))), React.createElement(\"div\", {\n        class: \"col-xs-2 col-sm-2 col-md-3 col-lg-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }));\n    }) : null)));\n  }\n\n}\n\nexport default withErrorHandler(Search, axios);","map":{"version":3,"sources":["/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/FindPlayer.js"],"names":["React","Component","Route","axios","PlyerStats","withErrorHandler","playerImage","require","Search","state","query","playersList","showPlayerStats","onSearch","event","preventDefault","console","log","cachedData","localStorage","getItem","setState","JSON","parse","obj","post","then","res","data","onSetResult","catch","err","key","setItem","stringify","onChange","target","value","fetchPlayerStats","pid","props","history","push","render","marginBottom","map","index","marginTop","width","height","borderRadius","fullName","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,gBAAP,MAA6B,6CAA7B;AACA,OAAO,kBAAP;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,kCAAD,CAA3B;;AAEA,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAAA;AAAA;AAAA,SAE3BQ,KAF2B,GAEnB;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJC,MAAAA,eAAe,EAAE;AAHb,KAFmB;;AAAA,SAQ3BC,QAR2B,GAQhBC,KAAK,IAAI;AAChBA,MAAAA,KAAK,CAACC,cAAN;AADgB,YAGRL,KAHQ,GAGE,KAAKD,KAHP,CAGRC,KAHQ;AAIhBM,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;;AACA,UAAIA,KAAK,KAAK,EAAd,EAAkB;AACd;AACH;;AAED,YAAMQ,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqBV,KAArB,CAAnB;;AAEA,UAAIQ,UAAJ,EAAgB;AACZ,aAAKG,QAAL,CAAc;AAAEV,UAAAA,WAAW,EAAEW,IAAI,CAACC,KAAL,CAAWL,UAAX;AAAf,SAAd;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWE,WAAvB;AACH,OAHD,MAGO;AACH,YAAIa,GAAG,GAAG;AACN,oBAAU,8BADJ;AAEN,kBAAQd;AAFF,SAAV;AAIAP,QAAAA,KAAK,CAACsB,IAAN,CAAW,gBAAX,EAA6BD,GAA7B,EACKE,IADL,CACUC,GAAG,IAAI;AACTX,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,cAAIC,IAAI,GAAGD,GAAG,GAAGA,GAAG,CAACC,IAAJ,GAAWD,GAAG,CAACC,IAAJ,CAASA,IAApB,GAA2B,EAA9B,GAAmC,EAAjD;AACAZ,UAAAA,OAAO,CAACC,GAAR,CAAYW,IAAZ;AACA,eAAKC,WAAL,CAAiBD,IAAjB,EAAuBlB,KAAvB;AACH,SAPL,EAQKoB,KARL,CAQYC,GAAD,IAASf,OAAO,CAACC,GAAR,CAAYc,GAAZ,CARpB;AASH;AACJ,KArC0B;;AAAA,SAuC3BF,WAvC2B,GAuCb,CAACD,IAAD,EAAOI,GAAP,KAAe;AACzBb,MAAAA,YAAY,CAACc,OAAb,CAAqBD,GAArB,EAA0BV,IAAI,CAACY,SAAL,CAAeN,IAAf,CAA1B;AAEA,WAAKP,QAAL,CAAc;AAAEV,QAAAA,WAAW,EAAEiB;AAAf,OAAd;AACH,KA3C0B;;AAAA,SA6C3BO,QA7C2B,GA6ChBrB,KAAK,IAAI;AAChB,WAAKO,QAAL,CAAc;AAAEX,QAAAA,KAAK,EAAEI,KAAK,CAACsB,MAAN,CAAaC;AAAtB,OAAd;AACH,KA/C0B;;AAAA,SAiD3BC,gBAjD2B,GAiDPC,GAAD,IAAS;AACxBvB,MAAAA,OAAO,CAACC,GAAR,CAAYsB,GAAZ;AACA,WAAKlB,QAAL,CAAc;AAAET,QAAAA,eAAe,EAAE;AAAnB,OAAd;AACA,WAAK4B,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,aAAaH,GAArC;AACH,KArD0B;AAAA;;AAuD3BI,EAAAA,MAAM,GAAG;AACL,WACI;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,KAAK,EAAE;AAACC,QAAAA,YAAY,EAAE;AAAf,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,QAAQ,EAAE,KAAK/B,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,8BAA7B;AAA4D,MAAA,QAAQ,EAAE,KAAKsB,QAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,EAEK;AAAQ,MAAA,IAAI,EAAC,iBAAb;AAA+B,MAAA,UAAU,EAAC,8BAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFL,CADA,CADH,CAFJ,EAUI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CADJ,EAaK,KAAK1B,KAAL,CAAWG,eAAX,GACG,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,cADT;AAEI,MAAA,SAAS,EAAER,UAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,GAGmC,IAhBxC,EAiBK,KAAKK,KAAL,CAAWE,WAAX,GAAyB,KAAKF,KAAL,CAAWE,WAAX,CAAuBkC,GAAvB,CAA2B,CAACR,KAAD,EAAQS,KAAR,KAAkB;AACnE,aACI;AAAK,QAAA,GAAG,EAAET,KAAK,CAACE,GAAhB;AAAqB,QAAA,SAAS,EAAC,KAA/B;AAAqC,QAAA,KAAK,EAAE;AAAEQ,UAAAA,SAAS,EAAE;AAAb,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,qCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,KAAK,EAAC,qCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,YAAX;AAAwB,QAAA,YAAY,EAAC,iCAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAC,GAAR;AAAaC,UAAAA,MAAM,EAAC,GAApB;AAAyBC,UAAAA,YAAY,EAAC;AAAtC,SAAZ;AAAuD,QAAA,GAAG,EAAE5C,WAA5D;AAAyE,QAAA,GAAG,EAAC,WAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAH,CADJ,EAEI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B+B,KAAK,CAACc,QAAlC,CAFJ,EAGI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0Bd,KAAK,CAACe,IAAhC,CAHJ,EAII;AAAQ,QAAA,SAAS,EAAC,wBAAlB;AAA2C,QAAA,OAAO,EAAE,MAAM,KAAKd,gBAAL,CAAsBD,KAAK,CAACE,GAA5B,CAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,CADJ,CADJ,CADJ,CADJ,CADJ,CAFJ,EAkBI;AAAK,QAAA,KAAK,EAAC,qCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBJ,CADJ;AAsBH,KAvByB,CAAzB,GAuBI,IAxCT,CADJ,CADJ,CADJ;AAiDH;;AAzG0B;;AA4G/B,eAAelC,gBAAgB,CAACG,MAAD,EAASL,KAAT,CAA/B","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from '../../axios-matches';\nimport PlyerStats from './PlayerStats/PlayerStats';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport './FindPlayer.css';\nconst playerImage = require('../../assets/images/profile.jpeg')\n\nclass Search extends Component {\n\n    state = {\n        query: '',\n        playersList: [],\n        showPlayerStats: false,\n    };\n\n    onSearch = event => {\n        event.preventDefault();\n\n        const { query } = this.state;\n        console.log(query);\n        if (query === '') {\n            return;\n        }\n\n        const cachedData = localStorage.getItem(query);\n\n        if (cachedData) {\n            this.setState({ playersList: JSON.parse(cachedData) });\n            console.log(this.state.playersList);\n        } else {\n            let obj = {\n                \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n                \"name\": query\n            }\n            axios.post('/playerFinder/', obj)\n                .then(res => {\n                    console.log(\"api call\");\n                    console.log(res);\n                    let data = res ? res.data ? res.data.data : [] : [];\n                    console.log(data);\n                    this.onSetResult(data, query)\n                })\n                .catch((err) => console.log(err));\n        }\n    };\n\n    onSetResult = (data, key) => {\n        localStorage.setItem(key, JSON.stringify(data));\n\n        this.setState({ playersList: data });\n    };\n\n    onChange = event => {\n        this.setState({ query: event.target.value });\n    };\n\n    fetchPlayerStats = (pid) => {\n        console.log(pid);\n        this.setState({ showPlayerStats: true })\n        this.props.history.push('/search/' + pid);\n    }\n\n    render() {\n        return (\n            <section id=\"team\" className=\"pb-5\">\n                <div className=\"container\">\n                    <div className=\"coloumn\">\n                        <div className=\"row\">\n                            <div className=\"col-xs-3 col-lg-3\"></div>\n                            <div className=\"col-xs-6 col-lg-6\" style={{marginBottom: 20 }}>\n                               <div className=\"form-group\">\n                               <form onSubmit={this.onSearch}>\n                                    <input type=\"text\" className=\"form-control form-control-md\" onChange={this.onChange} />\n                                    <button type=\"btn btn-primary\" cclassName=\"form-control form-control-md\">Search</button>\n                                </form>\n                                   </div> \n                            </div>\n                            <div className=\"col-xs-3 col-lg-3\"></div>\n                        </div>\n                        {this.state.showPlayerStats ?\n                            <Route\n                                path=\"/search/:pid\"\n                                component={PlyerStats} /> : null}\n                        {this.state.playersList ? this.state.playersList.map((value, index) => {\n                            return (\n                                <div key={value.pid} className=\"row\" style={{ marginTop: 20 }} >\n                                    <div class=\"col-xs-2 col-sm-2 col-md-3 col-lg-3\"></div>\n                                    <div class=\"col-xs-8 col-sm-8 col-md-6 col-lg-6\">\n                                        <div class=\"image-flip\" ontouchstart=\"this.classList.toggle('hover');\">\n                                            <div class=\"mainflip\">\n                                                <div class=\"frontside\">\n                                                    <div class=\"card\">\n                                                        <div class=\"card-body text-center\">\n                                                            <p><img style={{ width:120 ,height:120, borderRadius:60}} src={playerImage} alt=\"cardImage\" /></p>\n                                                            <h4 className=\"card-title\">{value.fullName}</h4>\n                                                            <p className=\"card-text\">{value.name}</p>\n                                                            <button className=\"btn btn-primary btn-sm\" onClick={() => this.fetchPlayerStats(value.pid)}>View Profile</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-xs-2 col-sm-2 col-md-3 col-lg-3\"></div>\n                                </div>\n                            );\n                        }) : null}\n                    </div>\n\n                </div>\n            </section>\n        );\n    }\n}\n\nexport default withErrorHandler(Search, axios);"]},"metadata":{},"sourceType":"module"}