{"ast":null,"code":"var _jsxFileName = \"/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/PlayerStats/PlayerStats.js\";\nimport React, { Component } from 'react';\nimport axios from '../../../axios-matches';\n\nclass PlayerStats extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      playerStats: {}\n    };\n\n    this.fetchPlayerStatics = () => {\n      let id = this.props.match.params.pid;\n      const cachedData = localStorage.getItem(id);\n\n      if (cachedData) {\n        this.setState({\n          playerStats: JSON.parse(cachedData)\n        });\n        console.log(this.state.playerStats);\n      } else {\n        let obj = {\n          \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n          \"name\": id\n        };\n        axios.post('/playerStats/', obj).then(res => {\n          console.log(\"api call\");\n          console.log(res);\n          let data = res ? res.data ? res.data.data : [] : [];\n          console.log(data);\n          this.onSetResult(data, id);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.onSetResult = (data, key) => {\n      localStorage.setItem(key, JSON.stringify(data));\n      this.setState({\n        playerStats: data\n      });\n    };\n  }\n\n  componentDidMount() {\n    localStorage.clear();\n    this.fetchPlayerStatics();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"player stats\");\n  }\n\n}\n\nexport default PlayerStats;","map":{"version":3,"sources":["/home/clouddive-2-sunil/React/cric-score-app/src/Components/FindPlayer/PlayerStats/PlayerStats.js"],"names":["React","Component","axios","PlayerStats","state","playerStats","fetchPlayerStatics","id","props","match","params","pid","cachedData","localStorage","getItem","setState","JSON","parse","console","log","obj","post","then","res","data","onSetResult","catch","err","key","setItem","stringify","componentDidMount","clear","render"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,SAAjB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAEhCG,KAFgC,GAExB;AACJC,MAAAA,WAAW,EAAG;AADV,KAFwB;;AAAA,SAWhCC,kBAXgC,GAWX,MAAK;AACtB,UAAIC,EAAE,GAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,GAAlC;AACA,YAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqBP,EAArB,CAAnB;;AAEA,UAAIK,UAAJ,EAAgB;AACZ,aAAKG,QAAL,CAAc;AAAEV,UAAAA,WAAW,EAAEW,IAAI,CAACC,KAAL,CAAWL,UAAX;AAAf,SAAd;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWC,WAAvB;AACH,OAHD,MAGO;AAEP,YAAIe,GAAG,GAAG;AACN,oBAAU,8BADJ;AAEN,kBAAQb;AAFF,SAAV;AAIAL,QAAAA,KAAK,CAACmB,IAAN,CAAW,eAAX,EAA4BD,GAA5B,EACKE,IADL,CACUC,GAAG,IAAI;AACTL,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,cAAIC,IAAI,GAAGD,GAAG,GAAGA,GAAG,CAACC,IAAJ,GAAWD,GAAG,CAACC,IAAJ,CAASA,IAApB,GAA2B,EAA9B,GAAmC,EAAjD;AACAN,UAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACA,eAAKC,WAAL,CAAiBD,IAAjB,EAAuBjB,EAAvB;AACH,SAPL,EAQKmB,KARL,CAQYC,GAAD,IAAST,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CARpB;AASH;AACJ,KAlCmC;;AAAA,SAoChCF,WApCgC,GAoClB,CAACD,IAAD,EAAOI,GAAP,KAAe;AACzBf,MAAAA,YAAY,CAACgB,OAAb,CAAqBD,GAArB,EAA0BZ,IAAI,CAACc,SAAL,CAAeN,IAAf,CAA1B;AAEA,WAAKT,QAAL,CAAc;AAAEV,QAAAA,WAAW,EAAEmB;AAAf,OAAd;AACH,KAxC+B;AAAA;;AAMhCO,EAAAA,iBAAiB,GAAG;AAChBlB,IAAAA,YAAY,CAACmB,KAAb;AACA,SAAK1B,kBAAL;AACH;;AAiCD2B,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ;AAKH;;AAhD+B;;AAmDpC,eAAe9B,WAAf","sourcesContent":["import React , { Component } from 'react';\nimport axios from '../../../axios-matches';\n\nclass PlayerStats extends Component {\n\n    state = {\n        playerStats : {}\n    }\n\n    componentDidMount() {\n        localStorage.clear()\n        this.fetchPlayerStatics();\n    }\n\n    fetchPlayerStatics = () =>{\n        let id  = this.props.match.params.pid\n        const cachedData = localStorage.getItem(id);\n\n        if (cachedData) {\n            this.setState({ playerStats: JSON.parse(cachedData) });\n            console.log(this.state.playerStats);\n        } else {\n        \n        let obj = {\n            \"apikey\": \"tTzabHsmnIPgA6CNdPwKGRCpduW2\",\n            \"name\": id\n        }\n        axios.post('/playerStats/', obj)\n            .then(res => {\n                console.log(\"api call\");\n                console.log(res);\n                let data = res ? res.data ? res.data.data : [] : [];\n                console.log(data);\n                this.onSetResult(data, id)\n            })\n            .catch((err) => console.log(err));\n    }\n}\n\n    onSetResult = (data, key) => {\n        localStorage.setItem(key, JSON.stringify(data));\n\n        this.setState({ playerStats: data });\n    };\n\n    render(){\n        return(\n            <div>\n                player stats\n            </div>\n        )\n    }\n}\n\nexport default PlayerStats;"]},"metadata":{},"sourceType":"module"}